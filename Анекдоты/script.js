const jokes = [
    "- Господин капитан, почему большинство кораблей носят женские имена?\n- Если бы вы знали, как ими трудно управлять, вы бы не задавали глупых вопросов.",
    "Тренер утешает проигравшего боксера:\n- Но в третьем раунде ты своего противника здорово напугал.\n- Чем это?\n- Ему показалось, что он тебя убил.",
    "Старушка входит в переполненный ленинградский автобус. Никто ей не уступает место.\n- Неужели в Санкт-Петербурге не осталось интеллигенции?\nЕй отвечает сидящий здоровяк:\n- Интелихенции, мамаша, до хрена, а вот автобусов мало!",
    "Официант, я хотел бы получить то же, что у господина за соседним столиком.\n- Нет проблем, месье. Я сейчас позову его к телефону, а вы действуйте.",
    "Шестисотый мерин въезжает сзади в каток. Из машины вылезает здоровенный детина и начинает звонить по мобиле своему гаишнику.\nЧерез некоторое время останавливается милицейская тачка, из нее выходит гаишник, подходит к водителю катка, отводит его в сторону и задушевно шепчет:\n- Ну, рассказывай. Как обгонял... Как подрезал...",
    "Вовочка, открой скорее ротик и скажи а-а-а, чтобы этот злой и противный доктор смог наконец вытащить свой пальчик из твоих зубок!",
    "Лекция в сельскохозяйственном институте. Профессор говорит:\n- Племенной бык может произвести до ста половых актов.\nСтудентка:\n- Это за какой период времени?\nПрофессор:\n- За сутки.\nСтудентка:\n- Повторите это для студента с последнего ряда.\nСтудент с последнего ряда:\n- Скажите, профессор, с одной коровой или со всем стадом?\nПрофессор:\n- Со всем стадом.\nСтудент:\n- Повторите это для студентки с первого ряда.",
    "Прапор приходит домой и говорит жене:\n- Жрать давай!\nЖена жалуется:\n- Я так устала. За весь день ни разу не присела...\n.....\nПрапор сжалился над ней и заставил присесть ее двести раз...",
    "- Иногда приходится жалеть, что твой друг не был большой свиньей, - вздыхал голодный Винни-Пух, обжаривая Пятачка на костре.",
    "Налоговый инспектор спрашивает нового русского:\n- Вы уверены, что виллу, пять \"Мерседесов\" и шесть квартир в центре вы купили на честно заработанные деньги?\n- А, на какие еще?\n- Мне кажется, что все это куплено на народные деньги!\n- Ты че, ваще?! Откуда у народа такие деньги?",
    "- Хаим, ты слышал, что скоро будет погром?\n- А я не боюсь - я по паспорту русский.\n- Дурак, бить будут не по паспорту, а по морде!",
    "На ташкентском базаре покупатель поднимает дыню и, чтобы сбить цену, ехидничает:\n- Эти яблоки у вас самые большие?\nПродавец парирует:\n- Не трогайте виноград руками...",
    "Автобус битком набит пассажирами. Один мужчина стоит на подножке и говорит:\n- Наро-о-од, потеснитесь. Иначе по головам пойду!\nЛысый мужик отвечает ему, поглаживая лысину мокрой ладошкой:\n- Да чтоб ты поскользнулся!\n- Да у меня шиповки!",
    "Разгадана тайна скрипки Шерлока Холмса:\nтихими зимними вечерами её звуки разносились по ночному Лондону, и от этого у хулиганов отнимались ноги, у грабителей опускались руки!\nНасильники тоже были не довольны...",
    "Муж внезапно возвращается из командировки и обнаруживает на ночном столике сигару.\n- Откуда эта сигара?\nЖена молчит.\n- Я в последний раз спрашиваю, откуда сигара?\n- Да из Гаваны, болван! - раздается из шкафа.",
    "Шеф обращается к новому сотруднику:\n- Мой заместитель объяснил вам, что вы будете делать?\n- Да, мсье.\n- И что же он вам сказал?\n- Что я должен просыпаться, если вы появитесь.",
    "- Скажите, пожалуйста, ваш цепной пес подпускает к себе?\n- Конечно! Иначе как он сможет вас укусить?",
    "- Куда идем мы с Пятачком - большой, большой секрет!\n- Ой, Винни, а я бумагу забыл взять!",
    "Заблудился Геолог в тайге, кричит: \"Люди! Где вы!? Помогите!\"\nВыходит из-за дерева Чукча и говорит демоническим голосом:\n\"А, как здесь - так \"люди!\", а как в Москве - так \"сковородки с ушами\"!\"",
    "Поручик Ржевский танцует на балу с Наташей Ростовой.\n- Поручик, - удивляется Наташа, - почему вы гладите меня по спине?\n- Пытаюсь найти ваши груди, мадемуазель.\n- Но ведь они у меня спереди!\n- Да там я уже искал-с!",
    "Прапорщик объясняет новобранцам:\n- Если камень подбросить, он упадет на землю - на него действует сила земного притяжения.\n- А если он упадет в воду? - спрашивает новичок.\n- Это нас не касается, этим занимаются на флоте.",
    "Жена обращается к своему зевающему мужу:\n- Слушай, раз уж у тебя все равно рот открыт, крикни нашему малышу, чтобы он шел домой.",
    "Приземляется парапланеристка:\n- Ой, так ударилась, чуть ноги не переломала!\nИнструктор посмотрел и говорит:\n- Ну-у, переломать не переломала, но погнула капитально.",
    "- Официант! Этот бифштекс из конины?\n- Нет, сэр, бифштекс не из конины: кони кончились! Этот бифштекс из телеги!",
    "Новый русский едет со своей девушкой в Мерсе.\n- Смотри, я щас на красный свет проеду!\nИ проезжает на полной скорости. Девушка в восторге.\nНа следующем перекрестке останавливается, несмотря на то, что горит зеленый свет.\nДевушка:\n- Ты чего?\n- Да вот щас такой же джигит поедет...",
    "Исповедуется друг алкоголика:\n- Я не люблю напиваться в присутствии жены, неприятно видеть, как их становится двое...",
    "Дочка спрашивает маму:\n- А кто этот страшный, волосатый дядя с красными глазами?\n- А это твой папа.\n- А он что заболел?\n- Нет, к Интернету подключился.",
    "Нищий стучится в дом.\n- Мадам, я уже три дня не видел мяса.\n- Сара, покажи ему котлету.",
    "Приезжает ковбой в город и останавливается в крутой гостинице. Там все как положено, сауна, бассейн. И вдруг на третий день его к этому бассейну инструктор не допускает:\n- Почему меня не пускают. Я за все уплатил.\n- Да, сэр, но вы писаете в воду!\n- Ну и что, так делают почти все!\n- Да, но вы один делаете это с вышки.",
    "В аптеке большая очередь. С криком врывается мужчина:\n- Пропустите! Пропустите без очереди! Там человек лежит!\nОчередь расступается, он протискивается к прилавку:\n- Пачку презервативов, пожалуйста!",
    "Чапаев ездил поступать в военную академию.\n- Василий Иваныч, все сдал?\n- Нет, не все, Петька. Кровь сдал, мочу сдал, а математику не смог.",
    "Зона. 8 часов утра. Перекличка. Начальник сообщает заключенным:\n- С сегодняшнего дня наша зона перешла на трехразовое усиленное питание!\n- Ур-р-ра! - кричат зеки.\n- Вторник, четверг, суббота!",
    "Студент хнычет:\n- Профессор, я не заслуживаю двойки!\nПрофессор:\n- Знаю... Но более низких оценок у нас, к сожалению, нет!"
];

const intro = [
    "Внимание! Сейчас будет анекдот...",
    "Готовься, это шедевр!",
    "Настройся на волну юмора...",
    "Сейчас будет смешно, держись!",
    "Пауза... и анекдот!"
];

let unusedJokes = [...jokes];

document.getElementById('jokeBtn').onclick = function() {
    const jokeDiv = document.getElementById('joke');
    jokeDiv.classList.remove('show');

    if (unusedJokes.length === 0) {
        jokeDiv.textContent = "Анекдоты закончились! Обновите страницу для новой порции.";
        jokeDiv.style.opacity = 1;
        return;
    }

    const introText = intro[Math.floor(Math.random() * intro.length)];
    jokeDiv.textContent = introText;
    jokeDiv.style.opacity = 1;

    setTimeout(() => {
        const idx = Math.floor(Math.random() * unusedJokes.length);
        const jokeText = unusedJokes[idx];
        jokeDiv.textContent = jokeText;
        jokeDiv.classList.add('show');
        unusedJokes.splice(idx, 1);
    }, 1200);
};

// Вынесите обработчик переключения темы сюда!
document.getElementById('themeToggle').onclick = function() {
    document.body.classList.toggle('dark');
    this.textContent = document.body.classList.contains('dark') ? '☀️ Светлая тема' : '🌙 Тёмная тема';
};